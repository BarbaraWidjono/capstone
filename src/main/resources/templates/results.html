<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head lang="en">
		<title>Results</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<link href="../static/css/results.css" th:href="@{/css/results.css}" rel="stylesheet" />
		
	</head>
	
	<body>
		<h1 class="header" th:text="${heading}"/>
		<div th:each="store: ${stores}">
			<h3 th:text="${store.name}"/>
			<p th:text="${store.street}"/>
			<div class="city">
				<p th:text="${store.city}"/>
				<p th:text="${store.state}"/>
				<p th:text="${store.zipcode}"/>
			</div>
			<p th:text="${store.phone}"/>
			<p th:text="${store.info}"/>
			<a th:target="_blank" th:href="${store.website}">Website</a>
			<a th:target="_blank" th:href="@{https://www.google.com/maps/dir/?api=1&destination={location}+Seattle+WA(location=${store.street})}">Directions</a>
		</div>
		
		<div id="map"></div>
		
		<script>
		function initMap() {
			  // The location of Uluru
			  var local1 = {lat: 47.693497, lng: -122.334025};
			  var local2 = {lat: 47.707547, lng: -122.339337}
			  // The map, centered at Uluru
			  var map = new google.maps.Map(
			      document.getElementById('map'), {zoom: 12, center: local1});
			  // The marker, positioned at Uluru
			  var marker1 = new google.maps.Marker({position: local1, map: map});
			  var marker2 = new google.maps.Marker({position: local2, map: map});
			  
			  var contentString = '<div id="content">'+
			            '<div id="siteNotice">'+
			            '</div>'+
			            '<h1 id="firstHeading" class="firstHeading">Site Name</h1>'+
			            '<div id="bodyContent">'+
			            '<p>Site Address</p>'+ '<p>Site Phone</p>' + '<p>Site Info</p>' + 
			            '</div>'+
			            '</div>';

			        var infowindow = new google.maps.InfoWindow({
			          content: contentString
			        });
			        marker1.addListener('click', function() {
			          infowindow.open(map, marker1);
			        });
			}
		</script>
		
		<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDY4Cy_ubPYVZrVyzU3Ylrxg63bwe0xZn8&callback=initMap">
		</script>
	</body>
</html>